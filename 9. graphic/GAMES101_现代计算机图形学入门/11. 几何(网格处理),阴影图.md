# mesh process

## Mesh subdivision（网格细分）

### ==loop subdivision==

这里并不表示循环细分
==比较巧合的是，loop 是一个人的名字，刚好这个人发明了这个细分算法。==
这个算法主要分为两部分：

1. 创建更多的三角形；
2. 移动他们的位置。

最终，loop subdivision 将一个三角形拆分成四个三角形，但是 loop subdivision只适用于三角形

#### split triangle

找到三角形每个边的中点。他们连起来就能够将一个三角形拆分成四个三角形

<img src="https://raw.githubusercontent.com/yqm1995/pic_bed/master/images/image-20250316231411962.png" alt="image-20250316231411962" style="width:50%;float:left" />

#### update vertexes

对于新创建的顶点，如下图所示，新顶点的位置为 $3/8*(A+B)+1/8*(C+D)$

<img src="https://raw.githubusercontent.com/yqm1995/pic_bed/master/images/image-20250316231420811.png" alt="image-20250316231420811" style="width:30%;float:left" />

对于新创建的顶点如下图所示，老顶点的位置为

<img src="https://raw.githubusercontent.com/yqm1995/pic_bed/master/images/image-20250319221946177.png" alt="image-20250319221946177" style="width:30%;float:left" />
$$
(1-n*u)*originalposition+u*neighborposition\\
n = vertex degree（就是原点链接的边数量）\\
if(n == 3)\space u = 3/16\\
else\space u = 3/(8n)\\
$$

### Catmull-Clark Subdivision

更加通用，适用于非三角形的情况。以及计算规则。

这个算法的好处只需要引入四个奇异点就能实现效果。

<div style="display:flex;">
	<img src="https://raw.githubusercontent.com/yqm1995/pic_bed/master/images/image-20250319230422742.png" alt="image-20250319230422742" style="width:50%;" />
	<img src="https://raw.githubusercontent.com/yqm1995/pic_bed/master/images/image-20250319233146997.png" alt="image-20250319233146997" style="width:50%;" />
</div>
<img src="https://raw.githubusercontent.com/yqm1995/pic_bed/master/images/image-20250319234315754.png" alt="image-20250319234315754" style="width:100%;" />



## ==Mesh simplification（网格简化）==

TODO 后面尝试自己实现网格简化

网格简化比网格细分要难的多。涉及到二次误差度量，然后还需要使用贪心算法动态计算。

- 二次度量误差不会算
- 贪心算法不会

### Collapsing An Edge

### 二次误差度量(quadric Error metrics)

### 贪心算法

## Mesh regularization（网格正标准化）

课堂中没有讲解

# shadow map



